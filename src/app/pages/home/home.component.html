<app-navbar></app-navbar>
<div class="main" [ngClass]="{'wide-main': isOpen}">
    <app-topbar></app-topbar>
    <div class="card-box">
        <!-- Temporary -->
        <div (click)="redirectReports()" class="card">
            <div>
                <div class="numbers">{{ dailyEarningsCash }}</div>
                <div class="card-name">Ganancias Diarias efectivo</div>
            </div>
            <div class="icon-box">
                <fa-icon [icon]="icons[1]"></fa-icon>
            </div>
        </div>
        <!-- Temporary -->
        <div (click)="redirectReports()" class="card">
            <div>
                <div class="numbers">{{ dailySales }}</div>
                <div class="card-name">Ventas Diarias</div>
            </div>
            <div class="icon-box">
                <fa-icon [icon]="icons[0]"></fa-icon>
            </div>
        </div>
        <div (click)="redirectReports()" class="card">
            <div>
                <div class="numbers">${{ dailyEarnings }}</div>
                <div class="card-name">Ganancias Diarias</div>
            </div>
            <div class="icon-box">
                <fa-icon [icon]="icons[1]"></fa-icon>
            </div>
        </div>
        <div (click)="redirectReports()" class="card">
            <div>
                <div class="numbers">{{ monthlySales }}</div>
                <div class="card-name">Ventas Mensuales</div>
            </div>
            <div class="icon-box">
                <fa-icon [icon]="icons[2]"></fa-icon>
            </div>
        </div>
        <div (click)="redirectReports()" class="card">
            <div>
                <div class="numbers">$ {{ monthlyEarnings }}</div>
                <div class="card-name">Ganancias Mensuales</div>
            </div>
            <div class="icon-box">
                <fa-icon [icon]="icons[3]"></fa-icon>
            </div>
        </div>
    </div>

    <div class="details">
        <div class="card-graphic">
            <div class="card-header">
                <h2>Ventas Mesuales</h2>
            </div>
            <div class="graphic">
                <app-sales-chart></app-sales-chart>
            </div>
        </div>
        <div class="card-stock">
            <div class="card-header">
                <h2>Stock mínimo</h2>
                <a [routerLink]="['/reports']" class="link-btn">Ver todos</a>
            </div>
            <table>
                <thead>
                    <tr>
                        <th>Descripción</th>
                        <th>Cantidad</th>
                        <th>Estado</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td *ngIf="products.length === 0" >No hay resultados</td>
                    </tr>
                    <tr *ngFor="let product of products">
                        <td>{{ product.description }}</td>
                        <td>{{ product.quantity }}</td>
                        <td>
                            <span *ngIf="product.quantity === 0" class="status no-stock">Sin stock</span>
                            <span *ngIf="product.quantity > 0 && product.quantity <= 4" class="status minimum">Stock mínimo</span>
                            <span *ngIf="product.quantity > 4" class="status stock">Stock</span>
                        </td>
                    </tr>                    
                </tbody>
            </table>
        </div>
    </div>
</div>
